(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,e,n){},114:function(t,e,n){"use strict";n.r(e);var r,a=n(0),i=n.n(a),c=n(12),o=n.n(c),s=n(48),u=n(49),l=n(59),f=n(50),b=n(61),p=n(28),m=n(13),h=n(118),d=n(3),g={isOpenListModal:!1,setIsOpenListModal:function(t,e){t.isOpenListModal=e}},y=n(14),v=n.n(y),w=n(22),O=n(51),E=n.n(O).a.create({baseURL:"/training-reading-and-listening"}),j=[{link:"https://www.youtube.com/watch?time_continue=0&v=5VE9nihee7o",subtitle:"[DownSub.com] Hillary Clinton_ The Vox Conversation.srt"},{link:"https://youtu.be/quJdL9ggETI",subtitle:"[DownSub.com] Margaret Gould Stewart_ How giant websites design for you (and a billion others, too).srt"},{link:"https://youtu.be/H2QxFM9y0tY",subtitle:"[DownSub.com] The disarming case to act right now on climate change _ Greta Thunberg.srt"},{link:"https://youtu.be/pj8n78AuN3w",subtitle:"[DownSub.com] YouTube's Rules Don't Apply to Everyone.srt"},{link:"https://www.youtube.com/watch?v=PjTc-EiwHqc",subtitle:"[DownSub.com] Who I'm Voting for President re_ Casey Neistat.srt"},{link:"https://youtu.be/jAhjPd4uNFY",subtitle:"[DownSub.com] Genetic Engineering Will Change Everything Forever \u2013 CRISPR.srt"},{link:"https://youtu.be/DHg5j9cTb2k?t=32",subtitle:"[DownSub.com] Genetic Engineering Will Change Everything Forever \u2013 CRISPR.srt"}];function k(t){var e=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|attribution_link\?a=.+?watch.+?v(?:%|=)))((\w|-){11})(?:\S+)?$/);return String(e[1])}!function(t){t.YOUTUBE="youtube",t.AUDIO="audio"}(r||(r={}));var S={items:[],isFetching:!0,add:function(t,e){t.items.push(e)},delete:function(t,e){var n=t.items.findIndex(function(t){return t.id===e});t.items.splice(n,1)},setItems:function(t,e){t.items=e},setFetching:function(t,e){t.isFetching=e},fetch:Object(d.e)(function(){var t=Object(w.a)(v.a.mark(function t(e){var n,a,i,c,o,s,u;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setFetching(!0),!(n=localStorage.getItem("app_items"))){t.next=7;break}return a=JSON.parse(n),e.setItems(a),e.setFetching(!1),t.abrupt("return");case 7:i=[],c=0;case 9:if(!(c<j.length)){t.next=19;break}return o=j[c],t.next=13,E.get("/".concat(o.subtitle));case 13:s=t.sent,u={id:c,plainSubtitles:s.data,source:r.YOUTUBE,url:k(o.link)},i.push(u);case 16:c++,t.next=9;break;case 19:e.setItems(i),e.syncWithLocalstorage(null),e.setFetching(!1);case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),syncWithLocalstorage:function(t){localStorage.setItem("app_items",JSON.stringify(t.items))},listeners:Object(d.c)(function(t){t(S.delete,function(t){t.syncWithLocalstorage(null)})})},I=S,F=n(54),T={subtitles:[],isFetching:!0,setSubtitles:function(t,e){t.subtitles=e},setFetching:function(t,e){t.isFetching=e},fetchSubtitlesFromTasksStore:Object(d.e)(function(){var t=Object(w.a)(v.a.mark(function t(e,n,r){var a,i,c,o;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState(),i=Number(n),c=a.getTaskById(i)){t.next=5;break}return t.abrupt("return");case 5:o=F.parse(c.plainSubtitles),e.setSubtitles(o),e.setFetching(!1);case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}())},x=n(17),L={app:g,tasks:I,player:T,getTaskById:Object(d.d)(function(t){return function(e){var n=t.tasks.items.filter(function(t){return t.id===e});return Object(x.a)(n,1)[0]}})},C=n(36),M=new Promise(function(t){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),window.onYouTubeIframeAPIReady=function(){return t(window.YT)}}),_=function(t){var e=t.id,n=t.videoId,r=t.events,a=t.playerVars;return new Promise(function(){var t=Object(w.a)(v.a.mark(function t(i,c){var o,s,u;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M;case 2:return o=t.sent,s=Object(C.a)({},r,{onReady:function(t){i(u),r.onReady&&r.onReady(t)}}),u=new o.Player(e,{videoId:n,height:"390",width:"640",playerVars:a,events:s}),t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())},R=0;function N(t){return!t||0===t.length}var D=function(t){var e=Object(a.useState)(null),n=Object(x.a)(e,2),r=n[0],c=n[1],o=Object(a.useState)(-1),s=Object(x.a)(o,2),u=s[0],l=s[1],f=Object(a.useMemo)(function(){return function(t){var e=++R;return String(t)+e}("unq-yt-id-")},[]),b=!N(t)&&i.a.createElement("div",{id:f});return Object(a.useEffect)(function(){if(!N(t)){var e={id:f,videoId:t,events:{},playerVars:{}};return r?r.cueVideoById(t):function(){n.apply(this,arguments)}(),function(){console.log("return")}}function n(){return(n=Object(w.a)(v.a.mark(function t(){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(Object(C.a)({},e,{events:{onStateChange:function(){l(n.getPlayerState())}}}));case 2:return n=t.sent,t.abrupt("return",c(n));case 4:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}},[t]),[b,r,u]},P=n(55);var A=function(t){var e=t.match.params.id,n=Object(d.f)(function(t){return{setIsOpenListModal:t.app.setIsOpenListModal,onFetchSubtitlesFromTasksStore:t.player.fetchSubtitlesFromTasksStore}}).onFetchSubtitlesFromTasksStore,r=Object(d.g)(function(t){return t.getTaskById(Number(e))},[e]),c=Object(d.g)(function(t){return t.tasks},[e]);if(Object(d.g)(function(t){return t.player},[e]),Object(a.useEffect)(function(){c.isFetching||n(e)},[e,c.isFetching]),!e)return i.a.createElement(m.a,{to:"/"});var o=Object(P.get)(r,"url"),s=D(o),u=Object(x.a)(s,1)[0],l=c.items.map(function(t){return i.a.createElement("li",{key:t.url},i.a.createElement(p.b,{to:"/play/".concat(t.url)},t.url))});return i.a.createElement("div",null,i.a.createElement("hr",null),u,i.a.createElement("hr",null),i.a.createElement("ul",null,l))},B=n(60),V=n(116),Y=n(117),U=n(29),W=n(58),H=n.n(W),J=function(t){return!t},q=function(){var t=Object(a.useState)(!0),e=Object(x.a)(t,2)[1];return function(){e(J)}},G=function(){var t=q(),e=Object(a.useContext)(m.d);if(console.log("routerContext = ",e),!e)throw new Error("use-react-router may only be used within a react-router context.");return Object(a.useEffect)(function(){return e.history.listen(t)},[e]),e};function Q(t){var e=Object(d.g)(function(t){return t.tasks}),n=Object(d.g)(function(t){return t.app.isOpenListModal}),r=G().history,c=Object(d.f)(function(t){return{onFetch:t.tasks.fetch,onDelete:t.tasks.delete,setIsOpenListModal:t.app.setIsOpenListModal}}),o=c.onFetch,s=c.onDelete,u=c.setIsOpenListModal;function l(){return e.items.map(function(t,e){var n="https://i.ytimg.com/vi/".concat(t.url,"/hqdefault.jpg"),a="https://youtu.be/".concat(t.url);return i.a.createElement("tr",{onClick:function(){return e=t.id,r.push("/play/".concat(e)),void console.log("handleTableRowClick");var e},key:e},i.a.createElement("td",{style:{width:120,textAlign:"center"}},i.a.createElement("a",{href:a,target:"_blank"},i.a.createElement("img",{className:H.a.image,src:n,alt:""}))),i.a.createElement("td",null,i.a.createElement("h4",null,"# ",t.id)),i.a.createElement("td",{style:{width:80,textAlign:"center",verticalAlign:"middle"}},i.a.createElement(B.a,{intent:"danger",icon:"delete",onClick:function(e){return function(t,e){s(e),t.stopPropagation()}(e,t.id)}})))})}return Object(a.useEffect)(function(){o()},[]),i.a.createElement(Y.a,{style:{width:"70%"},icon:"info-sign",title:"List",isOpen:n,onClose:function(){return u(!1)},usePortal:!0,className:U.a.OVERLAY_SCROLL_CONTAINER},i.a.createElement("div",{style:{overflow:"scroll",height:"70vh"}},i.a.createElement(V.a,{style:{width:"100%"},interactive:!0,bordered:!0},i.a.createElement("tbody",null,l()))))}n(112),n(113);function X(){var t=Object(d.f)(function(t){return{setIsOpenListModal:t.app.setIsOpenListModal}}).setIsOpenListModal;return Object(a.useEffect)(function(){setTimeout(function(){t(!0)},400)},[]),null}h.a.onlyShowFocusOnTabs();var $=Object(d.b)(L),z=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement(d.a,{store:$},i.a.createElement(p.a,{basename:"/training-reading-and-listening"},i.a.createElement("div",null,i.a.createElement(m.b,{exact:!0,path:"/",component:X}),i.a.createElement(m.b,{path:"/play/:id",component:A}),i.a.createElement(m.b,{exact:!0,path:"/play",component:A}),i.a.createElement(Q,null))))}}]),e}(a.Component);o.a.render(i.a.createElement(z,null),document.getElementById("root"))},58:function(t,e,n){t.exports={image:"Tasks_image__3yXbi"}},69:function(t,e,n){t.exports=n(114)}},[[69,1,2]]]);
//# sourceMappingURL=main.0c396a88.chunk.js.map
{"version":3,"sources":["store/tasks.store.ts","store/app.store.ts","utils/axios.ts","misc/default-task.js","utils/parse-youtube-url.ts","store/index.ts","hooks/useYoutube.tsx","components/Player/Player.tsx","hooks/useForceUpdate.ts","hooks/useReactRouter.ts","components/Tasks/Tasks.tsx","components/Home/Home.tsx","components/App/App.tsx","index.tsx","components/Tasks/Tasks.module.css"],"names":["TaskSource","store","isOpenListModal","setIsOpenListModal","state","payload","instance","axios","create","baseURL","process","default_task","link","subtitle","parseYoutubeUrl","url","res","match","String","items","isFetching","add","push","delete","index","findIndex","__","id","splice","setItems","setFetching","fetch","thunk","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","actions","raw","tasks","defaultTasks","i","defaultTaskListElement","t","wrap","_context","prev","next","localStorage","getItem","JSON","parse","abrupt","defaultTaskList","length","get","concat","sent","plainSubtitles","data","source","YOUTUBE","syncWithLocalstorage","stop","this","_x","apply","arguments","setItem","stringify","listeners","listen","on","src_store","app","YTScriptLoad","Promise","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","window","onYouTubeIframeAPIReady","YT","BuildYTPlayer","options","videoId","events","playerVars","resolve","reject","YTp","finishEvents","player","objectSpread","onReady","event","Player","height","width","_x2","idCounter","useYoutube","str","_useState","useState","_useState2","slicedToArray","setPlayer","_useState3","_useState4","setState","htmlId","useMemo","prefix","uniqueId","element","react_default","useEffect","console","log","opt","cueVideoById","_load","load","_callee2","ytPlayer","_context2","onStateChange","getPlayerState","props","useActions","tasksState","useStore","s","params","react_router","to","tasksButton","map","item","key","react_router_dom","_useYoutube","video","_useYoutube3","video2","toggle","useForceUpdate","useRouter","forceUpdate","routerContext","useContext","__RouterContext","Error","history","Tasks","_useActions","onFetch","onDelete","renderTableList","img","onClick","style","textAlign","href","target","className","styles","image","alt","verticalAlign","buttons","intent","icon","e","stopPropagation","handleDeleteRowClick","dialog","title","isOpen","onClose","usePortal","Classes","OVERLAY_SCROLL_CONTAINER","overflow","htmlTable","interactive","bordered","Home","setTimeout","FocusStyleManager","onlyShowFocusOnTabs","createStore","plainStore","App","easy_peasy_esm","basename","exact","path","component","Component","ReactDOM","render","components_App_App","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0a6bc802.chunk.js","sourcesContent":["import axios from '../utils/axios';\nimport { Action, listen, Listen, thunk, Thunk } from 'easy-peasy';\nimport defaultTaskList from \"../misc/default-task.js\";\nimport parseYoutubeUrl from \"../utils/parse-youtube-url\";\n\nenum TaskSource {\n  YOUTUBE = 'youtube',\n  AUDIO = 'audio',\n}\n\n\ninterface Task {\n  id: number,\n  url: string,\n  source: TaskSource,\n  plainSubtitles: string,\n}\n\ninterface ITasksState {\n  items: Task[],\n  isFetching: boolean,\n  listeners: Listen<ITasksActions>;\n}\n\ninterface ITasksActions {\n  add: Action<ITasksState, Task>,\n  delete: Action<ITasksState, number>,\n  setItems: Action<ITasksState, Task[]>,\n  setFetching: Action<ITasksState, boolean>,\n  syncWithLocalstorage: Action<ITasksState>;\n  fetch: Thunk<ITasksActions>;\n}\n\nexport type ITasksStore = ITasksState & ITasksActions;\n\nconst store: ITasksStore = {\n  items: [],\n  isFetching: true,\n  add: (state, payload) => {\n    state.items.push(payload)\n  },\n  delete: (state, payload) => {\n    let index = state.items.findIndex(__ => __.id === payload);\n    state.items.splice(index, 1)\n  },\n  setItems: (state, payload) => {\n    state.items = payload;\n  },\n  setFetching: (state, payload) => {\n    state.isFetching = payload;\n  },\n  fetch: thunk(async (actions) => {\n    actions.setFetching(true);\n    const raw = localStorage.getItem(\"app_items\");\n    if (raw) {\n      const tasks = JSON.parse(raw);\n      actions.setItems(tasks);\n      actions.setFetching(false);\n      return;\n    }\n\n    const defaultTasks = [];\n\n    for (let i = 0; i < defaultTaskList.length; i++) {\n      const defaultTaskListElement = defaultTaskList[i];\n      const res = await axios.get(`/${defaultTaskListElement.subtitle}`);\n      const t: Task = {\n        id: i,\n        plainSubtitles: res.data,\n        source: TaskSource.YOUTUBE,\n        url: parseYoutubeUrl(defaultTaskListElement.link),\n      };\n      defaultTasks.push(t);\n    }\n\n    actions.setItems(defaultTasks);\n    actions.syncWithLocalstorage(null);\n    actions.setFetching(false);\n  }),\n  syncWithLocalstorage: (state) => {\n    localStorage.setItem(\"app_items\", JSON.stringify(state.items));\n  },\n  listeners: listen(on => {\n    on(store.delete, (actions) => {\n      actions.syncWithLocalstorage(null);\n    });\n  })\n};\n\nexport default store;\n","import { Action } from \"easy-peasy\";\n\ninterface IAppState {\n  isOpenListModal: boolean,\n}\n\nexport interface IAppActions {\n  setIsOpenListModal: Action<IAppState, boolean>,\n}\n\nexport type IAppStore = IAppState & IAppActions;\n\nconst store: IAppStore = {\n  isOpenListModal: false,\n  setIsOpenListModal: (state, payload) => {\n    state.isOpenListModal = payload\n  }\n};\n\nexport default store;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: process.env.PUBLIC_URL,\n});\n\nexport default instance;\n","export default [\n  {\n    link: \"https://www.youtube.com/watch?time_continue=0&v=5VE9nihee7o\",\n    subtitle: \"[DownSub.com] Hillary Clinton_ The Vox Conversation.srt\",\n  },\n  {\n    link: \"https://youtu.be/quJdL9ggETI\",\n    subtitle: \"[DownSub.com] Margaret Gould Stewart_ How giant websites design for you (and a billion others, too).srt\",\n  },\n  {\n    link: \"https://youtu.be/H2QxFM9y0tY\",\n    subtitle: \"[DownSub.com] The disarming case to act right now on climate change _ Greta Thunberg.srt\",\n  },\n  {\n    link: \"https://youtu.be/pj8n78AuN3w\",\n    subtitle: \"[DownSub.com] YouTube's Rules Don't Apply to Everyone.srt\",\n  },\n  {\n    link: \"https://www.youtube.com/watch?v=PjTc-EiwHqc\",\n    subtitle: \"[DownSub.com] Who I'm Voting for President re_ Casey Neistat.srt\",\n  },\n  {\n    link: \"https://youtu.be/jAhjPd4uNFY\",\n    subtitle: \"[DownSub.com] Genetic Engineering Will Change Everything Forever – CRISPR.srt\",\n  },\n  {\n    link: \"https://youtu.be/DHg5j9cTb2k?t=32\",\n    subtitle: \"[DownSub.com] Genetic Engineering Will Change Everything Forever – CRISPR.srt\",\n  },\n\n]\n","export default function parseYoutubeUrl(url: string): string {\n  const regexp = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|attribution_link\\?a=.+?watch.+?v(?:%|=)))((\\w|-){11})(?:\\S+)?$/;\n  const res = url.match(regexp);\n  return String(res![1]);\n}\n","import app, { IAppStore } from './app.store';\nimport tasks, { ITasksStore } from './tasks.store';\n\nexport interface IStore {\n  app: IAppStore\n  tasks: ITasksStore\n}\n\nexport default {\n  app,\n  tasks,\n}\n","import React, { ReactNode, useState, useEffect, useMemo } from \"react\";\n\ndeclare global {\n  interface Window {\n    onYouTubeIframeAPIReady: any\n    YT: any\n  }\n}\n\ninterface BuildTYOptions {\n  id: string,\n  videoId: string,\n  events: any,\n  playerVars: any,\n}\n\nconst YTScriptLoad = new Promise(res => {\n  const tag = document.createElement('script');\n  tag.src = `https://www.youtube.com/iframe_api`;\n  const firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag!.parentNode!.insertBefore(tag, firstScriptTag);\n  window.onYouTubeIframeAPIReady = () => res(window.YT);\n});\n\n\nconst BuildYTPlayer = (options: BuildTYOptions): any => {\n  const {id, videoId, events, playerVars} = options;\n\n  return new Promise(async (resolve, reject) => {\n    const YTp: any = await YTScriptLoad;\n    const finishEvents = {\n      ...events,\n      onReady(event: any) {\n        resolve(player);\n        events.onReady && events.onReady(event);\n      },\n    };\n\n    const player = new YTp.Player(id, {\n      videoId,\n      height: '390',\n      width: '640',\n      playerVars: playerVars,\n      events: finishEvents,\n    });\n\n    return player;\n  })\n};\n\nlet idCounter = 0;\n\nfunction isEmpty(str: string): boolean {\n  return (!str || 0 === str.length);\n}\n\nfunction uniqueId(prefix: string) {\n  let id = ++idCounter;\n  return String(prefix) + id;\n}\n\nfunction useYoutube(videoId: string): [ReactNode, YT.Player | null, YT.PlayerState] {\n  const [player, setPlayer] = useState<YT.Player | null>(null);\n  const [state, setState] = useState<YT.PlayerState>(-1);\n  const htmlId = useMemo(() => uniqueId('unq-yt-id-'), []);\n  const element = !isEmpty(videoId) && <div id={htmlId}/>;\n\n  useEffect(() => {\n    console.log(\"effect\");\n    if (!videoId) return;\n\n    const opt = {\n      id: htmlId,\n      videoId,\n      events: {},\n      playerVars: {},\n    };\n\n    async function load() {\n      const ytPlayer = await BuildYTPlayer({\n        ...opt,\n        events: {\n          onStateChange: () => {\n            setState(ytPlayer.getPlayerState());\n          },\n        }\n      });\n      return setPlayer(ytPlayer);\n    }\n\n    if (!player) {\n      load();\n    } else  {\n      player.cueVideoById(videoId);\n    }\n\n    return () => {\n      console.log(\"return\");\n    };\n\n  }, [videoId]);\n\n  return [element, player, state];\n}\n\n\nexport default useYoutube;\n","import React, { useEffect } from 'react';\nimport { Actions, State, useActions, useStore } from \"easy-peasy\";\nimport { IStore } from \"../../store\";\nimport useYoutube from \"../../hooks/useYoutube\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\ninterface PlayerProps {\n  [key: string]: any;\n}\n\n/**\n * TODO: autoplay\n * @param props\n * @constructor\n */\nfunction Player(props: PlayerProps) {\n  const {\n    setIsOpenListModal,\n  } = useActions((a: Actions<IStore>) => ({\n    setIsOpenListModal: a.app.setIsOpenListModal,\n  }));\n  const tasksState = useStore((s: State<IStore>) => s.tasks);\n  const id = props.match.params.id;\n\n  // useEffect(() => {\n  //   if (!id) {\n  //     console.log(\"useEffect id = \", id);\n  //   }\n  // }, []);\n\n  if (!id) {\n    return <Redirect to=\"/\"/>;\n  }\n\n  const tasksButton = tasksState.items.map((item) => {\n    return (\n      <li key={item.url}>\n        <Link to={`/play/${item.url}`}>{item.url}</Link>\n      </li>\n    );\n  });\n\n  const [video] = useYoutube(id);\n  const [video2] = useYoutube('jAhjPd4uNFY');\n\n  return (\n    <div>\n      {video}\n      <hr/>\n      <ul>\n        {tasksButton}\n      </ul>\n      <hr/>\n      {video2}\n    </div>\n  )\n}\n\nexport default Player;\n","import { useState } from 'react';\n\ninterface VoidFunction {\n  (): void;\n}\n\ninterface VoidFunctionCreator {\n  (): VoidFunction;\n}\n\nconst toggle = (state: boolean): boolean => !state;\n\nconst useForceUpdate: VoidFunctionCreator = (): VoidFunction => {\n  const [, setState] = useState<boolean>(true);\n  return (): void => {\n    setState(toggle);\n  };\n};\n\nexport default useForceUpdate;\n","// @ts-ignore\nimport { useContext, useEffect } from 'react';\n\n// @ts-ignore\nimport { __RouterContext, RouteComponentProps } from 'react-router';\nimport useForceUpdate from './useForceUpdate';\n\ninterface UseRouter {\n  <T = {}>(): RouteComponentProps<T>;\n}\n\ninterface VoidFunction {\n  (): void;\n}\n\n/**\n * Work only with react-router@4.4.0 +\n */\nconst useRouter: UseRouter = <T = {}>(): RouteComponentProps<T> => {\n  const forceUpdate: VoidFunction = useForceUpdate();\n  const routerContext: RouteComponentProps<T> = useContext(__RouterContext);\n  console.log(\"routerContext = \", routerContext);\n\n  if (!routerContext) {\n    throw new Error('use-react-router may only be used within a react-router context.');\n  }\n\n  useEffect(\n    (): VoidFunction =>\n      routerContext.history.listen(forceUpdate),\n    [routerContext]\n  );\n  return routerContext;\n};\n\nexport default useRouter;\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Classes, Dialog, HTMLTable } from \"@blueprintjs/core\";\nimport { useActions, useStore, State, Actions } from \"easy-peasy\";\nimport useYoutube from \"../../hooks/useYoutube\";\nimport { IStore } from \"../../store\";\nimport styles from \"./Tasks.module.css\";\nimport useRouter from \"../../hooks/useReactRouter\";\n\ninterface TasksProps {\n}\n\nexport default function Tasks(props: TasksProps) {\n  const tasksState = useStore((s: State<IStore>) => s.tasks);\n  const isOpenListModal = useStore((s: State<IStore>) => s.app.isOpenListModal);\n  const {history} = useRouter();\n\n  const {\n    onFetch,\n    onDelete,\n    setIsOpenListModal,\n  } = useActions((a: Actions<IStore>) => ({\n    onFetch: a.tasks.fetch,\n    onDelete: a.tasks.delete,\n    setIsOpenListModal: a.app.setIsOpenListModal,\n  }));\n\n  useEffect(() => {\n    onFetch();\n  }, []);\n\n  function handleTableRowClick(id: number) {\n    history.push(`/play/${id}`);\n    console.log(\"handleTableRowClick\");\n  }\n\n  function handleDeleteRowClick(e: any, id: number) {\n    onDelete(id);\n    e.stopPropagation();\n  }\n\n  function renderTableList() {\n    return tasksState.items.map((item, i) => {\n      const img = `https://i.ytimg.com/vi/${item.url}/hqdefault.jpg`;\n      const link = `https://youtu.be/${item.url}`;\n\n      return (\n        <tr onClick={() => handleTableRowClick(item.id)} key={i}>\n          <td style={{width: 120, textAlign: 'center'}}>\n            <a href={link} target=\"_blank\">\n              <img className={styles.image} src={img} alt=\"\"/>\n            </a>\n          </td>\n          <td>\n            <h4># {item.id}</h4>\n          </td>\n          <td style={{width: 80, textAlign: 'center', verticalAlign: 'middle'}}>\n            <Button intent=\"danger\" icon=\"delete\" onClick={(e: any) => handleDeleteRowClick(e, item.id)}/>\n          </td>\n        </tr>\n      )\n    });\n  }\n\n  function renderTable() {\n    return (\n      <HTMLTable style={{width: '100%'}} interactive={true} bordered={true}>\n        <tbody>\n        {renderTableList()}\n        </tbody>\n      </HTMLTable>\n    );\n  }\n\n  function renderDialog() {\n    return (\n      <Dialog\n        style={{width: '70%'}}\n        icon=\"info-sign\"\n        title=\"List\"\n        isOpen={isOpenListModal}\n        onClose={() => setIsOpenListModal(false)}\n        usePortal={true}\n        className={Classes.OVERLAY_SCROLL_CONTAINER}\n      >\n        <div style={{overflow: 'scroll', height: '70vh'}}>\n          {renderTable()}\n        </div>\n      </Dialog>\n    );\n  }\n\n  return renderDialog();\n}\n\n\n","import React, { useEffect } from \"react\";\nimport { Actions, useActions } from \"easy-peasy\";\nimport { IStore } from \"../../store\";\n\nexport default function Home() {\n  const {\n    setIsOpenListModal,\n  } = useActions((a: Actions<IStore>) => ({\n    setIsOpenListModal: a.app.setIsOpenListModal,\n  }));\n\n  useEffect(() => {\n    setTimeout(() => {\n      setIsOpenListModal(true);\n    }, 400);\n  }, []);\n\n  return null\n}\n","import React, { Component } from 'react';\n// import { Router, Link, createHistory, LocationProvider } from \"@reach/router\"\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport { FocusStyleManager } from \"@blueprintjs/core\";\nimport { StoreProvider, createStore } from 'easy-peasy';\nimport plainStore, { IStore } from \"../../store\";\nimport Player from \"../Player/Player\";\nimport Tasks from \"../Tasks/Tasks\";\n\nimport '../../../node_modules/@blueprintjs/core/lib/css/blueprint.css';\nimport './App.css';\nimport Home from '../Home/Home';\n\nFocusStyleManager.onlyShowFocusOnTabs();\n\nconst store = createStore<IStore>(plainStore);\n\nclass App extends Component {\n  render() {\n    return (\n      <StoreProvider store={store}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <div>\n            <Route exact path=\"/\" component={Home}/>\n            <Route path=\"/play/:id\" component={Player}/>\n            <Route exact path=\"/play\" component={Player}/>\n            <Tasks/>\n          </div>\n        </Router>\n      </StoreProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Tasks_image__3yXbi\"};"],"sourceRoot":""}
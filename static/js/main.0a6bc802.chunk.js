(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(12),o=n.n(c),s=n(48),u=n(49),l=n(57),p=n(50),f=n(59),d=n(27),m=n(13),b=n(115),h=n(7),g={isOpenListModal:!1,setIsOpenListModal:function(e,t){e.isOpenListModal=t}},y=n(20),w=n.n(y),v=n(26),O=n(51),E=n.n(O).a.create({baseURL:"/training-reading-and-listening"}),j=[{link:"https://www.youtube.com/watch?time_continue=0&v=5VE9nihee7o",subtitle:"[DownSub.com] Hillary Clinton_ The Vox Conversation.srt"},{link:"https://youtu.be/quJdL9ggETI",subtitle:"[DownSub.com] Margaret Gould Stewart_ How giant websites design for you (and a billion others, too).srt"},{link:"https://youtu.be/H2QxFM9y0tY",subtitle:"[DownSub.com] The disarming case to act right now on climate change _ Greta Thunberg.srt"},{link:"https://youtu.be/pj8n78AuN3w",subtitle:"[DownSub.com] YouTube's Rules Don't Apply to Everyone.srt"},{link:"https://www.youtube.com/watch?v=PjTc-EiwHqc",subtitle:"[DownSub.com] Who I'm Voting for President re_ Casey Neistat.srt"},{link:"https://youtu.be/jAhjPd4uNFY",subtitle:"[DownSub.com] Genetic Engineering Will Change Everything Forever \u2013 CRISPR.srt"},{link:"https://youtu.be/DHg5j9cTb2k?t=32",subtitle:"[DownSub.com] Genetic Engineering Will Change Everything Forever \u2013 CRISPR.srt"}];function k(e){var t=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|attribution_link\?a=.+?watch.+?v(?:%|=)))((\w|-){11})(?:\S+)?$/);return String(t[1])}!function(e){e.YOUTUBE="youtube",e.AUDIO="audio"}(a||(a={}));var I={items:[],isFetching:!0,add:function(e,t){e.items.push(t)},delete:function(e,t){var n=e.items.findIndex(function(e){return e.id===t});e.items.splice(n,1)},setItems:function(e,t){e.items=t},setFetching:function(e,t){e.isFetching=t},fetch:Object(h.d)(function(){var e=Object(v.a)(w.a.mark(function e(t){var n,r,i,c,o,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setFetching(!0),!(n=localStorage.getItem("app_items"))){e.next=7;break}return r=JSON.parse(n),t.setItems(r),t.setFetching(!1),e.abrupt("return");case 7:i=[],c=0;case 9:if(!(c<j.length)){e.next=19;break}return o=j[c],e.next=13,E.get("/".concat(o.subtitle));case 13:s=e.sent,u={id:c,plainSubtitles:s.data,source:a.YOUTUBE,url:k(o.link)},i.push(u);case 16:c++,e.next=9;break;case 19:t.setItems(i),t.syncWithLocalstorage(null),t.setFetching(!1);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),syncWithLocalstorage:function(e){localStorage.setItem("app_items",JSON.stringify(e.items))},listeners:Object(h.c)(function(e){e(I.delete,function(e){e.syncWithLocalstorage(null)})})},S={app:g,tasks:I},L=n(19),x=n(36),C=new Promise(function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}}),T=function(e){var t=e.id,n=e.videoId,a=e.events,r=e.playerVars;return new Promise(function(){var e=Object(v.a)(w.a.mark(function e(i,c){var o,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:return o=e.sent,s=Object(x.a)({},a,{onReady:function(e){i(u),a.onReady&&a.onReady(e)}}),u=new o.Player(t,{videoId:n,height:"390",width:"640",playerVars:r,events:s}),e.abrupt("return",u);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},M=0;var _=function(e){var t,n=Object(r.useState)(null),a=Object(L.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(-1),u=Object(L.a)(s,2),l=u[0],p=u[1],f=Object(r.useMemo)(function(){return function(e){var t=++M;return String(e)+t}("unq-yt-id-")},[]),d=!(!(t=e)||0===t.length)&&i.a.createElement("div",{id:f});return Object(r.useEffect)(function(){if(console.log("effect"),e){var t={id:f,videoId:e,events:{},playerVars:{}};return c?c.cueVideoById(e):function(){n.apply(this,arguments)}(),function(){console.log("return")}}function n(){return(n=Object(v.a)(w.a.mark(function e(){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(Object(x.a)({},t,{events:{onStateChange:function(){p(n.getPlayerState())}}}));case 2:return n=e.sent,e.abrupt("return",o(n));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},[e]),[d,c,l]};var F=function(e){Object(h.e)(function(e){return{setIsOpenListModal:e.app.setIsOpenListModal}}).setIsOpenListModal;var t=Object(h.f)(function(e){return e.tasks}),n=e.match.params.id;if(!n)return i.a.createElement(m.a,{to:"/"});var a=t.items.map(function(e){return i.a.createElement("li",{key:e.url},i.a.createElement(d.b,{to:"/play/".concat(e.url)},e.url))}),r=_(n),c=Object(L.a)(r,1)[0],o=_("jAhjPd4uNFY"),s=Object(L.a)(o,1)[0];return i.a.createElement("div",null,c,i.a.createElement("hr",null),i.a.createElement("ul",null,a),i.a.createElement("hr",null),s)},R=n(58),P=n(113),D=n(114),N=n(28),A=n(56),Y=n.n(A),V=function(e){return!e},B=function(){var e=Object(r.useState)(!0),t=Object(L.a)(e,2)[1];return function(){t(V)}},U=function(){var e=B(),t=Object(r.useContext)(m.d);if(console.log("routerContext = ",t),!t)throw new Error("use-react-router may only be used within a react-router context.");return Object(r.useEffect)(function(){return t.history.listen(e)},[t]),t};function W(e){var t=Object(h.f)(function(e){return e.tasks}),n=Object(h.f)(function(e){return e.app.isOpenListModal}),a=U().history,c=Object(h.e)(function(e){return{onFetch:e.tasks.fetch,onDelete:e.tasks.delete,setIsOpenListModal:e.app.setIsOpenListModal}}),o=c.onFetch,s=c.onDelete,u=c.setIsOpenListModal;function l(){return t.items.map(function(e,t){var n="https://i.ytimg.com/vi/".concat(e.url,"/hqdefault.jpg"),r="https://youtu.be/".concat(e.url);return i.a.createElement("tr",{onClick:function(){return t=e.id,a.push("/play/".concat(t)),void console.log("handleTableRowClick");var t},key:t},i.a.createElement("td",{style:{width:120,textAlign:"center"}},i.a.createElement("a",{href:r,target:"_blank"},i.a.createElement("img",{className:Y.a.image,src:n,alt:""}))),i.a.createElement("td",null,i.a.createElement("h4",null,"# ",e.id)),i.a.createElement("td",{style:{width:80,textAlign:"center",verticalAlign:"middle"}},i.a.createElement(R.a,{intent:"danger",icon:"delete",onClick:function(t){return function(e,t){s(t),e.stopPropagation()}(t,e.id)}})))})}return Object(r.useEffect)(function(){o()},[]),i.a.createElement(D.a,{style:{width:"70%"},icon:"info-sign",title:"List",isOpen:n,onClose:function(){return u(!1)},usePortal:!0,className:N.a.OVERLAY_SCROLL_CONTAINER},i.a.createElement("div",{style:{overflow:"scroll",height:"70vh"}},i.a.createElement(P.a,{style:{width:"100%"},interactive:!0,bordered:!0},i.a.createElement("tbody",null,l()))))}n(109),n(110);function H(){var e=Object(h.e)(function(e){return{setIsOpenListModal:e.app.setIsOpenListModal}}).setIsOpenListModal;return Object(r.useEffect)(function(){setTimeout(function(){e(!0)},400)},[]),null}b.a.onlyShowFocusOnTabs();var J=Object(h.b)(S),q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(h.a,{store:J},i.a.createElement(d.a,{basename:"/training-reading-and-listening"},i.a.createElement("div",null,i.a.createElement(m.b,{exact:!0,path:"/",component:H}),i.a.createElement(m.b,{path:"/play/:id",component:F}),i.a.createElement(m.b,{exact:!0,path:"/play",component:F}),i.a.createElement(W,null))))}}]),t}(r.Component);o.a.render(i.a.createElement(q,null),document.getElementById("root"))},56:function(e,t,n){e.exports={image:"Tasks_image__3yXbi"}},67:function(e,t,n){e.exports=n(111)}},[[67,1,2]]]);
//# sourceMappingURL=main.0a6bc802.chunk.js.map